<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:pro="http://www.liquibase.org/xml/ns/pro" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.6.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd">
    <changeSet id="1" author="Tin">
		<createTable tableName="gestures">
			<column name="gesture_id" type="serial" autoIncrement="true">
				<constraints primaryKey="true" nullable="false"/>
			</column>
			<column name="text" type="varchar(200)">
				<constraints nullable="false"/>
			</column>
			<column name="uri" type="varchar(200)">
				<constraints nullable="false"/>
			</column>
			<column name="description" type="varchar(200)">
				<constraints nullable="false"/>
			</column>
		</createTable>
		<createTable tableName="users">
			<column name="user_id" type="serial" autoIncrement="true">
				<constraints primaryKey="true" nullable="false"/>
			</column>
			<column name="username" type="varchar(50)">
				<constraints nullable="false"/>
			</column>
			<column name="email" type="varchar(50)">
				<constraints nullable="false"/>
			</column>
			<column name="password" type="varchar(50)">
				<constraints nullable="false"/>
			</column>
			<column  name="experience"  type="int" defaultValue="0">
				<constraints nullable="false"/>
			</column>
			<column  name="hearts_remaining"  type="int" defaultValue="3">
				<constraints nullable="false"/>
			</column>
			<column  name="gesture_coins"  type="int" defaultValue="0">
				<constraints nullable="false"/>
			</column>
			<column  name="dob"  type="date">
				<constraints nullable="true"/>
			</column>
			<column  name="profile_picture" type="BLOB">
				<constraints nullable="true"/>
			</column>
			<column name="day_streaks" type="int" defaultValue="0">
				<constraints nullable="false"/>
			</column>
			<column name="date_last_solved" type="date">
				<constraints nullable="true"/>
			</column>
		</createTable>
		<createTable tableName="levels">
			<column name="level_id" type="serial" autoIncrement="true">
				<constraints primaryKey="true" nullable="false"/>
			</column>
			<column name="name" type="varchar(50)">
				<constraints nullable="false"/>
			</column>
		</createTable>
		<createTable tableName="sub_levels">
			<column name="sub_level_id" type="serial" autoIncrement="true">
				<constraints primaryKey="true" nullable="false"/>
			</column>
			<column name="name" type="varchar(50)">
				<constraints nullable="false"/>
			</column>
			<column name="previous_id" type="int">
				<constraints nullable="true" foreignKeyName="fk_sub_level_prev" referencedTableName="sub_levels" referencedColumnNames="sub_level_id"/>
			</column>
			<column name="level_id" type="int">
				<constraints nullable="false" foreignKeyName="fk_sub_level_level" referencedTableName="levels" referencedColumnNames="level_id"/>
			</column>
		</createTable>
		<createTable tableName="questions">
			<column name="question_id" type="serial" autoIncrement="true">
				<constraints primaryKey="true" nullable="false"/>
			</column>
			<column name="question_type" type="varchar(20)">
				<constraints nullable="false"/>
			</column>
			<column name="text" type="varchar(200)">
				<constraints nullable="false"/>
			</column>
			<column name="correct_gesture_id" type="int">
				<constraints nullable="false" foreignKeyName="fk_question_cGesture" referencedTableName="gestures" referencedColumnNames="gesture_id"/>
			</column>
			<column name="wrong_gesture_id_1" type="int">
				<constraints nullable="false" foreignKeyName="fk_question_wGesture1" referencedTableName="gestures" referencedColumnNames="gesture_id"/>
			</column>
			<column name="wrong_gesture_id_2" type="int">
				<constraints nullable="false" foreignKeyName="fk_question_wGesture2" referencedTableName="gestures" referencedColumnNames="gesture_id"/>
			</column>
			<column name="wrong_gesture_id_3" type="int">
				<constraints nullable="false" foreignKeyName="fk_question_wGesture3" referencedTableName="gestures" referencedColumnNames="gesture_id"/>
			</column>
			<column name="sub_level_id" type="int">
				<constraints nullable="false" foreignKeyName="fk_question_sub_level" referencedTableName="sub_levels" referencedColumnNames="sub_level_id"/>
			</column>
		</createTable>
		<createTable tableName="statistics">
			<column name="statistic_id" type="serial" autoIncrement="true">
				<constraints primaryKey="true" nullable="false"/>
			</column>
			<column name="user_id" type="int">
				<constraints nullable="false" foreignKeyName="fk_statistic_user" referencedTableName="users" referencedColumnNames="user_id"/>
			</column>
			<column name="sub_level_id" type="int">
				<constraints nullable="false" foreignKeyName="fk_statistic_sub_level" referencedTableName="sub_levels" referencedColumnNames="sub_level_id"/>
			</column>
			<column  name="experience"  type="int" defaultValue="0">
				<constraints nullable="false" />
			</column>
			<column name="timestamp" type="timestamp">
				<constraints nullable="false"/>
			</column>
			<column  name="is_solved"  type="bool">
				<constraints nullable="false"/>
			</column>
		</createTable>
		<createTable tableName="user_answers">
			<column name="user_answer_id" type="serial" autoIncrement="true">
				<constraints primaryKey="true" nullable="false"/>
			</column>
			<column name="user_id" type="int">
				<constraints nullable="false" foreignKeyName="fk_user_answer_user" referencedTableName="users" referencedColumnNames="user_id"/>
			</column>
			<column name="question_id" type="int">
				<constraints nullable="false" foreignKeyName="fk_user_answer_question" referencedTableName="questions" referencedColumnNames="question_id"/>
			</column>
			<column name="given_gesture_id" type="int">
				<constraints nullable="false" foreignKeyName="fk_user_answer_gesture" referencedTableName="gestures" referencedColumnNames="gesture_id"/>
			</column>
			<column name="is_correct" type="bool">
				<constraints nullable="false"/>
			</column>
		</createTable>
		<createTable tableName="friends">
			<column name="friends_id" type="serial" autoIncrement="true">
				<constraints primaryKey="true" nullable="false"/>
			</column>
			<column name="user_id_1" type="int">
				<constraints nullable="false" foreignKeyName="fk_friends_user_1" referencedTableName="users" referencedColumnNames="user_id"/>
			</column>
			<column name="user_id_2" type="int">
				<constraints nullable="false" foreignKeyName="fk_friends_user_2" referencedTableName="users" referencedColumnNames="user_id"/>
			</column>
			<column name="is_accepted" type="bool" defaultValue="false">
				<constraints nullable="false"/>
			</column>
		</createTable>
	</changeSet>
	<changeSet id="2" author="Tin">
		<insert schemaName="public" tableName="users">  
			<column name="username"  value="Guido"/>
			<column name="email"  value="tin.k@gmail.com"/>
			<column name="password"  value="abcd1234"/>
			<column name="day_streaks"  value="1"/>
		</insert>
		<insert schemaName="public" tableName="users">  
			<column name="username"  value="Piki"/>
			<column name="email"  value="nikola.t@gmail.com"/>
			<column name="password"  value="gesta"/>
			<column name="day_streaks"  value="5"/>
		</insert>
		<insert schemaName="public" tableName="levels">  
			<column name="name"  value="Znakovi"/>
		</insert>
		<insert schemaName="public" tableName="levels">  
			<column name="name"  value="Osnove"/>
		</insert>
		<insert schemaName="public" tableName="sub_levels">  
			<column name="name"  value="Prva razina"/>
			<column name="level_id"  value="1"/>
		</insert>
		<insert schemaName="public" tableName="gestures">  
			<column name="text"  value="Pozdrav"/>
			<column name="uri"  value="C:\put\gesta.mp4"/>
			<column name="description"  value="gesta za pozdrav"/>
		</insert>
		<insert schemaName="public" tableName="gestures">
			<column  name="text"  value="Molim"/>
			<column  name="uri"  value="C:\put\jos_puta\gestica.mp4"/>
			<column  name="description"  value="gesta za molim"/>			
		</insert>
		<insert schemaName="public" tableName="gestures">  
			<column  name="text"  value="Majmun"/>
			<column  name="uri"  value="C:\putic\majmun.mp4"/>
			<column  name="description"  value="gesta za majmuna"/>			
		</insert>
		<insert schemaName="public" tableName="questions">  
			<column  name="question_type"  value="guess gesture"/>
			<column  name="text"  value="Odaberite gestu za 'Pozdrav':"/>
			<column  name="correct_gesture_id"  value="1"/>
			<column  name="wrong_gesture_id_1"  value="2"/>
			<column  name="wrong_gesture_id_2"  value="3"/>
			<column  name="wrong_gesture_id_3"  value="2"/>
			<column  name="sub_level_id"  value="1"/>			
		</insert>
		<insert schemaName="public" tableName="questions">  
			<column  name="question_type"  value="guess phrase"/>
			<column  name="text"  value="Å to predstavlja ova gesta:"/>
			<column  name="correct_gesture_id"  value="3"/>
			<column  name="wrong_gesture_id_1"  value="1"/>
			<column  name="wrong_gesture_id_2"  value="1"/>
			<column  name="wrong_gesture_id_3"  value="2"/>
			<column  name="sub_level_id"  value="1"/>			
		</insert>
		<insert schemaName="public" tableName="questions">  
			<column  name="question_type"  value="guess gesture"/>
			<column  name="text"  value="Odaberite gestu za 'Molim':"/>
			<column  name="correct_gesture_id"  value="2"/>
			<column  name="wrong_gesture_id_1"  value="3"/>
			<column  name="wrong_gesture_id_2"  value="1"/>
			<column  name="wrong_gesture_id_3"  value="1"/>
			<column  name="sub_level_id"  value="1"/>			
		</insert>
		<insert schemaName="public" tableName="questions">  
			<column  name="question_type"  value="guess phrase"/>
			<column  name="text"  value="Koja je gesta prikazana:"/>
			<column  name="correct_gesture_id"  value="1"/>
			<column  name="wrong_gesture_id_1"  value="3"/>
			<column  name="wrong_gesture_id_2"  value="3"/>
			<column  name="wrong_gesture_id_3"  value="3"/>
			<column  name="sub_level_id"  value="1"/>			
		</insert>
	</changeSet>
	<changeSet id="3" author="Tin">
		<createTable tableName="daily_tips">
			<column name="daily_tip_id" type="serial" autoIncrement="true">
				<constraints primaryKey="true" nullable="false"/>
			</column>
			<column name="text" type="varchar(200)">
				<constraints nullable="false"/>
			</column>
		</createTable>
		<insert schemaName="public" tableName="daily_tips">  
			<column  name="text"  value="Ovo je testni savjet."/>			
		</insert>
		<insert schemaName="public" tableName="daily_tips">  
			<column  name="text"  value="Ovo je drugi testni savjet dana."/>			
		</insert>
		<insert schemaName="public" tableName="daily_tips">  
			<column  name="text"  value="Ovo je posljednji testni savjet dana."/>			
		</insert>
	</changeSet>

	<changeSet id="4" author="Manuela">
		<insert tableName="levels">
			<column name="level_id" value="3"/>
			<column name="name" value="Lumen DEMO"/>
		</insert>
		<insert tableName="sub_levels">
			<column name="name" value="Gluh"/>
			<column name="level_id" value="3"/>
		</insert>
		<insert tableName="sub_levels">
			<column name="name" value="Godina"/>
			<column name="level_id" value="3"/>
		</insert>
		<insert tableName="sub_levels">
			<column name="name" value="Ime"/>
			<column name="level_id" value="3"/>
		</insert>
		<insert tableName="sub_levels">
			<column name="name" value="Ti"/>
			<column name="level_id" value="3"/>
		</insert>
	</changeSet>

	<changeSet id="5" author="Manuela">
		<insert schemaName="public" tableName="gestures">
			<column  name="text"  value="gluh"/>
			<column  name="uri"  value="../assets/gluh.mp4"/>
			<column  name="description"  value="gesta za gluh"/>
		</insert>
		<insert schemaName="public" tableName="gestures">
			<column  name="text"  value="godina"/>
			<column  name="uri"  value="../assets/godina.mp4"/>
			<column  name="description"  value="gesta za godina"/>
		</insert>
		<insert schemaName="public" tableName="gestures">
			<column  name="text"  value="ime"/>
			<column  name="uri"  value="../assets/ime.mp4"/>
			<column  name="description"  value="gesta za ime"/>
		</insert>
		<insert schemaName="public" tableName="gestures">
			<column  name="text"  value="ti"/>
			<column  name="uri"  value="../assets/ti.mp4"/>
			<column  name="description"  value="gesta za ti"/>
		</insert>
	</changeSet>

	<changeSet id="6" author="Manuela">
		<insert schemaName="public" tableName="questions">
			<column  name="question_type"  value="1"/>
			<column  name="text"  value="Odaberite gestu za 'GLUH':"/>
			<column  name="correct_gesture_id"  value="4"/>
			<column  name="wrong_gesture_id_1"  value="5"/>
			<column  name="wrong_gesture_id_2"  value="6"/>
			<column  name="wrong_gesture_id_3"  value="7"/>
			<column  name="sub_level_id"  value="4"/>
		</insert>
		<insert schemaName="public" tableName="questions">
			<column  name="question_type"  value="1"/>
			<column  name="text"  value="Odaberite gestu za 'GODINA':"/>
			<column  name="correct_gesture_id"  value="5"/>
			<column  name="wrong_gesture_id_1"  value="4"/>
			<column  name="wrong_gesture_id_2"  value="6"/>
			<column  name="wrong_gesture_id_3"  value="7"/>
			<column  name="sub_level_id"  value="5"/>
		</insert>
		<insert schemaName="public" tableName="questions">
			<column  name="question_type"  value="1"/>
			<column  name="text"  value="Odaberite gestu za 'IME':"/>
			<column  name="correct_gesture_id"  value="6"/>
			<column  name="wrong_gesture_id_1"  value="4"/>
			<column  name="wrong_gesture_id_2"  value="5"/>
			<column  name="wrong_gesture_id_3"  value="7"/>
			<column  name="sub_level_id"  value="6"/>
		</insert>
		<insert schemaName="public" tableName="questions">
			<column  name="question_type"  value="1"/>
			<column  name="text"  value="Odaberite gestu za 'TI':"/>
			<column  name="correct_gesture_id"  value="7"/>
			<column  name="wrong_gesture_id_1"  value="5"/>
			<column  name="wrong_gesture_id_2"  value="6"/>
			<column  name="wrong_gesture_id_3"  value="4"/>
			<column  name="sub_level_id"  value="7"/>
		</insert>

		<insert schemaName="public" tableName="questions">
			<column  name="question_type"  value="2"/>
			<column  name="text"  value="Odaberite gestu za 'GLUH':"/>
			<column  name="correct_gesture_id"  value="4"/>
			<column  name="wrong_gesture_id_1"  value="5"/>
			<column  name="wrong_gesture_id_2"  value="6"/>
			<column  name="wrong_gesture_id_3"  value="7"/>
			<column  name="sub_level_id"  value="4"/>
		</insert>
		<insert schemaName="public" tableName="questions">
			<column  name="question_type"  value="2"/>
			<column  name="text"  value="Odaberite gestu za 'GODINA':"/>
			<column  name="correct_gesture_id"  value="5"/>
			<column  name="wrong_gesture_id_1"  value="6"/>
			<column  name="wrong_gesture_id_2"  value="7"/>
			<column  name="wrong_gesture_id_3"  value="4"/>
			<column  name="sub_level_id"  value="5"/>
		</insert>
		<insert schemaName="public" tableName="questions">
			<column  name="question_type"  value="2"/>
			<column  name="text"  value="Odaberite gestu za 'IME':"/>
			<column  name="correct_gesture_id"  value="6"/>
			<column  name="wrong_gesture_id_1"  value="5"/>
			<column  name="wrong_gesture_id_2"  value="4"/>
			<column  name="wrong_gesture_id_3"  value="7"/>
			<column  name="sub_level_id"  value="6"/>
		</insert>
		<insert schemaName="public" tableName="questions">
			<column  name="question_type"  value="2"/>
			<column  name="text"  value="Odaberite gestu za 'TI':"/>
			<column  name="correct_gesture_id"  value="7"/>
			<column  name="wrong_gesture_id_1"  value="4"/>
			<column  name="wrong_gesture_id_2"  value="6"/>
			<column  name="wrong_gesture_id_3"  value="5"/>
			<column  name="sub_level_id"  value="7"/>
		</insert>

		<insert schemaName="public" tableName="questions">
			<column  name="question_type"  value="3"/>
			<column  name="text"  value="Odaberite gestu za 'GLUH':"/>
			<column  name="correct_gesture_id"  value="4"/>
			<column  name="wrong_gesture_id_1"  value="5"/>
			<column  name="wrong_gesture_id_2"  value="6"/>
			<column  name="wrong_gesture_id_3"  value="7"/>
			<column  name="sub_level_id"  value="4"/>
		</insert>
		<insert schemaName="public" tableName="questions">
			<column  name="question_type"  value="3"/>
			<column  name="text"  value="Odaberite gestu za 'GODINA':"/>
			<column  name="correct_gesture_id"  value="5"/>
			<column  name="wrong_gesture_id_1"  value="6"/>
			<column  name="wrong_gesture_id_2"  value="7"/>
			<column  name="wrong_gesture_id_3"  value="4"/>
			<column  name="sub_level_id"  value="5"/>
		</insert>
		<insert schemaName="public" tableName="questions">
			<column  name="question_type"  value="3"/>
			<column  name="text"  value="Odaberite gestu za 'IME':"/>
			<column  name="correct_gesture_id"  value="6"/>
			<column  name="wrong_gesture_id_1"  value="5"/>
			<column  name="wrong_gesture_id_2"  value="4"/>
			<column  name="wrong_gesture_id_3"  value="7"/>
			<column  name="sub_level_id"  value="6"/>
		</insert>
		<insert schemaName="public" tableName="questions">
			<column  name="question_type"  value="3"/>
			<column  name="text"  value="Odaberite gestu za 'TI':"/>
			<column  name="correct_gesture_id"  value="7"/>
			<column  name="wrong_gesture_id_1"  value="5"/>
			<column  name="wrong_gesture_id_2"  value="6"/>
			<column  name="wrong_gesture_id_3"  value="4"/>
			<column  name="sub_level_id"  value="7"/>
		</insert>
	</changeSet>
</databaseChangeLog>
